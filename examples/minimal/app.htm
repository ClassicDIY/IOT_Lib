#pragma once

const char app_config_fields[] PROGMEM = R"rawliteral(
	<div class="center-flex">
		<fieldset id="levels">
			<legend>Application</legend>
			<label for="_appState">State: </label><input type="text" id="_appState" name="_appState" value="%state_value%" required minlength="1" maxlength="32">
		</fieldset>
	</div>
	)rawliteral";

const char home_html[] PROGMEM = R"rawliteral(
	<html lang=\"en\">
	<head><meta name=\"viewport\" content=\"width=device-width, initial-scale=1, user-scalable=no\"/>
	<title>%title%</title>
	<link rel="stylesheet" href="/style.css">

	<script>
		function initWebSocket() {
			const socket = new WebSocket('ws://' + window.location.hostname + '/ws_home');
			socket.onmessage = function(event) {
				%home_script%
			};
			socket.onerror = function(error) {
				console.error('WebSocket error:', error);
			};

			window.addEventListener('beforeunload', function() {
				if (socket) {
					socket.close();
				}
			});
		}

		window.onload = function() {
			initWebSocket();
		}
	</script>
    </head>
  <body>
	<div id="home">
		<div id="hdr">
			<h2>%title%</h2>
			<div style='font-size: .6em;'>Firmware version '%version%'</div>
			<hr>
			<div class="container">
				<div class="home-group">
					<div class="state_box" id="AppState">  </div>
					<div class="link-row">
						<p><a href='settings'>Settings</a></p>
						<p><a href='/log' target='_blank'>Web Log</a></p>
					</div>
				</div>
			</div>
		</div>
	</div
  </body>
  </html>
)rawliteral";
